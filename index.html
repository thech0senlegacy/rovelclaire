<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garden Wedding Flipbook</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Schibsted+Grotesk:wght@400;500;600&family=Dancing+Script:wght@400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Schibsted Grotesk', serif;
            background: #F8CDC0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            color: #42312b;
            touch-action: manipulation;
        }
        
        .instruction {
            text-align: center;
            padding: 8px;
            font-size: 14px;
            font-style: italic;
            color: #5c3c35;
            background-color: rgba(255, 255, 255, 0.7);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .book-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 2000px;
            position: relative;
            overflow: hidden;
            padding: 40px 10px 60px 10px;
        }
        
        .book {
            width: 100%;
            height: 100%;
            max-width: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            right: 0;
            background-color: white;
            transform-origin: left center;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.645, 0.045, 0.355, 1);
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            visibility: hidden;
            pointer-events: none;
        }
        
        .page.active {
            visibility: visible;
            pointer-events: auto;
            z-index: 10;
        }
        
        .page.flipping {
            transform: rotateY(-130deg);
            z-index: 20;
            box-shadow: -5px 5px 20px rgba(0, 0, 0, 0.2);
        }
        
        .page-content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            overflow: hidden;
            background: linear-gradient(to bottom, rgba(248,205,192,0.95), rgba(248,205,192,0.8));
        }
        
        .cover .page-content {
            background: linear-gradient(to bottom, rgba(248,205,192,0.95), rgba(248,205,192,0.8));
        }
        
        .page-image {
            width: 85%;
            height: 55%;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .page-title {
            font-size: 22px;
            margin-bottom: 15px;
            font-weight: 500;
            font-family: 'Dancing Script', cursive;
            color: #5c3c35;
        }
        
        .page-text {
            font-size: 16px;
            line-height: 1.6;
        }
        
        .cover-image-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .cover-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 100;
        }
        
        .cover-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            text-align: center;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .cover-title {
            font-family: 'Dancing Script', cursive;
            font-size: 42px;
            margin-bottom: 20px;
            color: #42312b;
            text-shadow: 0 2px 10px rgba(255,255,255,0.8);
        }
        
        .cover-subtitle {
            font-size: 22px;
            margin-bottom: 15px;
            font-weight: 400;
            color: #5c3c35;
        }
        
        .cover-date {
            font-size: 18px;
            margin-top: 10px;
            font-weight: 500;
        }
        
        .page-indicators {
            position: fixed;
            bottom: 15px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 12px;
            z-index: 100;
        }
/* New code for the banner */
           .banner-layout .page-image {
           width: 100%;
           height: 45%; /* Reduce height to make it a banner */
           margin-bottom: 20px;
           object-position: center;
           }

           .banner-layout .page-content {
           padding: 15px;
           }

           .banner-layout .page-text {
           max-height: 55%; /* Give more space to text */
           overflow-y: auto; /* Allow scrolling if text is too long */
           padding: 0 5px;
           text-align: center;
           margin: 0 auto;
           max-width: 100%;
           font-size: 13px;
           }
/* end code for the banner */   
     
        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(92, 60, 53, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .indicator.active {
            background-color: rgba(92, 60, 53, 0.8);
            transform: scale(1.2);
        }
        
        .floral-decoration {
            position: absolute;
            width: 120px;
            height: 120px;
            opacity: 0.2;
            pointer-events: none;
        }
        
        .decoration-1 {
            top: 10px;
            right: 10px;
            transform: rotate(45deg);
        }
        
        .decoration-2 {
            bottom: 10px;
            left: 10px;
            transform: rotate(-45deg);
        }
        
        @media (max-height: 600px) {
            .page-image {
                height: 45%;
            }
            
            .page-title {
                font-size: 20px;
                margin-bottom: 10px;
            }
            
            .page-text {
                font-size: 14px;
            }
        }
        
        /* Paper fold effect */
        .page::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.03) 0%, rgba(0,0,0,0) 5%, rgba(0,0,0,0) 95%, rgba(0,0,0,0.03) 100%);
            pointer-events: none;
        }
        
        /* Page turning shadow */
        .page.flipping::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.1), rgba(0,0,0,0));
            z-index: 5;
            transform: rotateY(180deg);
            backface-visibility: hidden;
        }
        
        /* Mobile optimizations */
        @media (max-width: 480px) {
            .book-container {
                padding: 30px 5px 50px 5px;
            }
            
            .cover-title {
                font-size: 36px;
            }
            
            .page-image {
                width: 90%;
            }
        }

        /* Larger venue photo styling */
        .venue-page .page-image {
            width: 95%;
            height: 65%;
            transition: opacity 1s ease-in-out;
        }

        /* For image rotation/carousel */
        .venue-carousel {
            position: relative;
            width: 100%;
            height: 95%;
            margin-bottom: 15px;
        }

        .venue-carousel img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .venue-carousel img.active {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="instruction">swipe left or right to turn pages</div>
    
    <div class="book-container">
        <div class="book">
            <!-- Cover Page -->
            <div class="page cover active" data-index="0">
                <div class="cover-image-container">
                    <img src="coverpage.jpg" alt="Garden background" class="cover-image">
                </div>
                <div class="cover-content">
                    <h1 class="cover-title">Claire and Rovel</h1>
                </div>
            </div>
            
            <!-- Page 1 -->
<div class="page" data-index="1">
    <div class="page-content banner-layout">
        <img src="couplephoto.jpg" alt="Couple photo" class="page-image">
        <h2 class="page-title">Our Story</h2>
        <p class="page-text">
            Tulad ng mga bituing nakatakdang bumuo ng isang konstelasyon, hindi namin alam na ang aming mga buhay ay nakahanay na bago pa man namin nakilala ang isa't isa. 
            <br><br>
            Ang uniberso ay kumilos sa maraming paraan: sa isang concert ng Incubus sa Pilipinas, kami ay huminga ng parehong hangin at nakinig sa parehong musika, nakaupo lamang ilang hilera ang pagitan ngunit hindi alam ang presensya ng bawat isa. Araw-araw, habang nagbibisikleta ako sa mga kalye ng lungsod, dinadaanan ko ang kanyang pinagtatrabahuhan, marahil nakakakita ng sulyap ng isa't isa sa mga bintana o pintuan nang hindi nalalaman ang kahalagahan. Pagkatapos ay dumating ang kakaibang araw na iyon nang nagkaroon ng problema ang aking GPS sa isang paglalakbay sa bisikleta, inililihis ako mula sa aking nilalayong daan patungo sa rutang para sa mga kotse, na sa huli ay ginagabayan ako papunta sa malapit sa kanyang bahay—na para bang may kosmikong kamay na nagsasanay para sa aming mga pagtatagpo sa hinaharap. Maging ang aming mga pamilya ay tila umaawit ng parehong tono ng nakatakdang koneksyon: ang kanyang ama ay may parehong pangalan ng akin, ang mga pangalan ng kanyang mga kapatid na Rommel at Rodel ay kapansin-pansing umaawit katulad ng aking Rovel, na lumilikha ng kamangha-manghang salamin sa pagitan ng aming mga buhay. At sa isa pang kakaibang pangyayari, ang kanyang kapatid ay tinatawag na Rjay, kapareho ng pangalan ng aking matalik na kaibigan. 
            <br><br>
            Nang sa wakas ay nagkakilala kami online, natuklasan ang isang kagiliw-giliw na detalye pagkatapos ng isa pa tungkol sa isa't isa, ang mga pagkakatulad na ito ay nagsimulang maghayag ng kanilang mga sarili tulad ng mga piraso ng puzzle na bumabagsak sa lugar. Sa bawat pag-uusap, bawat interes at pagkakataong pinaghahatian, lalong tumitibay ang aming paniniwala na ang tinatawag ng iba na "red string theory" ay tahimik, matiyagang humihila sa amin nang magkasama—na nagpapatunay na minsan, ang pag-ibig ay hindi lang basta nangyayari; ito ay laging nakatakda.
            <br><br>
            ❀❀❀<br>
            <i><br>
            Like stars destined to form a constellation, our lives were invisibly aligned long before we knew each other existed. 
            <br><br>
            The universe conspired in countless ways: at an Incubus concert in the Philippines, we breathed the same air and shared the same music, seated mere rows apart yet unaware of each other's presence. Daily, as I pedaled my bicycle through the city streets, I passed by her workplace, perhaps catching glimpses of each other through windows or doorways without knowing the significance. Then came that curious day when my GPS malfunctioned during a bike trip, redirecting me from my intended path to a route meant for cars, ultimately guiding me near her home—as if some cosmic hand was rehearsing our future encounters. Even our families seemed to echo this predestined connection: her father bears the same name as mine, her brother's name Rommel resonates with my own Rovel, creating an uncanny mirror between our lives. And in yet another twist of serendipity, her brother goes by Rjay, identical to my best friend's name. 
            <br><br>
            When we finally connected online, discovering one fascinating detail after another about each other, these parallels began to reveal themselves like puzzle pieces falling into place. With each conversation, each shared interest and coincidence, we grew more certain that what some call the "red string of fate" had been quietly, patiently drawing us together all along—proving that sometimes, love doesn't just happen; it was always meant to be.         
        </p>
    </div>
</div>
            
            <!-- Page 2 -->
            <div class="page" data-index="2">
                <div class="page-content venue-page">
                    <div class="venue-carousel">
                        <img src="venue1.jpg" alt="Venue photo 1" class="active">
                        <img src="venue2.jpg" alt="Venue photo 2">
                        <img src="venue3.jpg" alt="Venue photo 3">
                        <img src="venue4.jpg" alt="Venue photo 4">
                        <img src="venue5.jpg" alt="Venue photo 5">
                        <img src="venue6.jpg" alt="Venue photo 6"> 
                        <img src="venue7.jpg" alt="Venue photo 7"> 
                        <!-- Add more images as needed -->
                    </div>
                    <h2 class="page-title">Ceremony & Reception</h2>
                    <p class="page-text">The ceremony will begin at 4:00 PM in the Rose Garden at Hillcrest Manor. The reception will follow immediately after in the Grand Pavilion. Please join us for an evening of dinner, dancing, and celebration beneath the stars.</p>
                </div>
            </div>
            
            <!-- Page 3 -->
            <div class="page" data-index="3">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Map photo" class="page-image">
                    <h2 class="page-title"><b>Lokasyon</b></h2>
                    <p class="page-text">Tree House Mansion Restaurant & Events Place<br>Aguinaldo Highway,<br>Lalaan II, Silang, Cavite<br><br>Complimentary valet parking will be available. A shuttle service will run from the Hampton Inn downtown starting at 3:00 PM.</p>
                </div>
            </div>
            
            <!-- Page 4 -->
            <div class="page" data-index="4">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Food photo" class="page-image">
                    <h2 class="page-title">Dinner & Dancing</h2>
                    <p class="page-text">We'll be serving a farm-to-table seasonal menu featuring locally sourced ingredients. Please indicate any dietary restrictions when you RSVP. After dinner, join us on the dance floor as we celebrate into the evening with music by The Garden City Band.</p>
                </div>
            </div>
            
            <!-- Page 5 -->
            <div class="page" data-index="5">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="RSVP photo" class="page-image">
                    <h2 class="page-title">RSVP</h2>
                    <p class="page-text">We look forward to celebrating with you! Please respond by April 15, 2025.<br><br>Visit our wedding website at:<br>sarahandjames.com<br><br>Or contact us at:<br>wedding@sarahandjames.com</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="page-indicators">
        <div class="indicator active" data-index="0"></div>
        <div class="indicator" data-index="1"></div>
        <div class="indicator" data-index="2"></div>
        <div class="indicator" data-index="3"></div>
        <div class="indicator" data-index="4"></div>
        <div class="indicator" data-index="5"></div>
    </div>
    
    <div class="floral-decoration decoration-1">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M50,0 C60,20 80,30 100,30 C80,40 60,60 50,100 C40,60 20,40 0,30 C20,30 40,20 50,0" fill="#5c3c35"/>
        </svg>
    </div>
    
    <div class="floral-decoration decoration-2">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M50,0 C60,20 80,30 100,30 C80,40 60,60 50,100 C40,60 20,40 0,30 C20,30 40,20 50,0" fill="#5c3c35"/>
        </svg>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pages = document.querySelectorAll('.page');
            const indicators = document.querySelectorAll('.indicator');
            let currentPageIndex = 0;
            let touchStartX = 0;
            let touchEndX = 0;
            let isAnimating = false;
            
            // Initialize
            updateIndicators();
            
            // Use passive event listeners for better performance
            document.addEventListener('touchstart', handleTouchStart, { passive: true });
            document.addEventListener('touchmove', handleTouchMove, { passive: true });
            document.addEventListener('touchend', handleTouchEnd, { passive: true });
            
            // For desktop testing
            document.addEventListener('mousedown', handleMouseDown, { passive: true });
            document.addEventListener('mousemove', handleMouseMove, { passive: true });
            document.addEventListener('mouseup', handleMouseUp, { passive: true });
            
            // Indicators click event with debounce
            const indicatorDebounceTime = 300;
            let lastIndicatorClick = 0;
            
            indicators.forEach(indicator => {
                indicator.addEventListener('click', () => {
                    const now = Date.now();
                    if (now - lastIndicatorClick < indicatorDebounceTime) return;
                    lastIndicatorClick = now;
                    
                    if (isAnimating) return;
                    
                    const targetIndex = parseInt(indicator.getAttribute('data-index'));
                    if (targetIndex === currentPageIndex) return;
                    
                    if (targetIndex > currentPageIndex) {
                        navigateToPage(targetIndex);
                    } else {
                        navigateToPage(targetIndex);
                    }
                });
            });
            
            // Optimized navigation to page
            function navigateToPage(targetIndex) {
                if (targetIndex === currentPageIndex) return;
                
                // We'll use requestAnimationFrame for smoother animations
                if (targetIndex > currentPageIndex) {
                    // Going forward one page at a time
                    turnPage(true);
                    
                    if (targetIndex > currentPageIndex + 1) {
                        // Schedule the next page turn
                        setTimeout(() => {
                            navigateToPage(targetIndex);
                        }, 600);
                    }
                } else {
                    // Going backward one page at a time
                    turnPage(false);
                    
                    if (targetIndex < currentPageIndex - 1) {
                        // Schedule the next page turn
                        setTimeout(() => {
                            navigateToPage(targetIndex);
                        }, 600);
                    }
                }
            }
            
            // Touch event handlers
            function handleTouchStart(e) {
                touchStartX = e.touches[0].clientX;
            }
            
            function handleTouchMove(e) {
                touchEndX = e.touches[0].clientX;
            }
            
            function handleTouchEnd() {
                handleSwipe();
            }
            
            // Mouse event handlers (for desktop testing)
            let isMouseDown = false;
            
            function handleMouseDown(e) {
                isMouseDown = true;
                touchStartX = e.clientX;
            }
            
            function handleMouseMove(e) {
                if (isMouseDown) {
                    touchEndX = e.clientX;
                }
            }
            
            function handleMouseUp() {
                if (isMouseDown) {
                    handleSwipe();
                    isMouseDown = false;
                }
            }
            
            // Optimized swipe handler with debounce
            let lastSwipeTime = 0;
            const swipeDebounceTime = 300;
            
            function handleSwipe() {
                const now = Date.now();
                if (now - lastSwipeTime < swipeDebounceTime) return;
                lastSwipeTime = now;
                
                if (isAnimating) return;
                
                const swipeThreshold = 50;
                const swipeDistance = touchEndX - touchStartX;
                
                if (swipeDistance < -swipeThreshold) {
                    // Swipe left - go to next page
                    if (currentPageIndex < pages.length - 1) {
                        requestAnimationFrame(() => turnPage(true));
                    }
                } else if (swipeDistance > swipeThreshold) {
                    // Swipe right - go to previous page
                    if (currentPageIndex > 0) {
                        requestAnimationFrame(() => turnPage(false));
                    }
                }
            }
            
            function turnPage(forward) {
                if (isAnimating) return;
                isAnimating = true;
                
                const currentPage = pages[currentPageIndex];
                
                if (forward) {
                    // Going to next page
                    const nextPageIndex = currentPageIndex + 1;
                    if (nextPageIndex >= pages.length) {
                        isAnimating = false;
                        return;
                    }
                    
                    const nextPage = pages[nextPageIndex];
                    
                    // Make next page visible before animation
                    nextPage.style.visibility = 'visible';
                    
                    currentPage.classList.add('flipping');
                    
                    setTimeout(() => {
                        currentPage.classList.remove('active');
                        nextPage.classList.add('active');
                        
                        setTimeout(() => {
                            currentPage.classList.remove('flipping');
                            currentPage.style.visibility = 'hidden';
                            currentPageIndex = nextPageIndex;
                            updateIndicators();
                            isAnimating = false;
                        }, 300);
                    }, 300);
                } else {
                    // Going to previous page
                    const prevPageIndex = currentPageIndex - 1;
                    if (prevPageIndex < 0) {
                        isAnimating = false;
                        return;
                    }
                    
                    const prevPage = pages[prevPageIndex];
                    
                    // Make previous page visible before animation
                    prevPage.style.visibility = 'visible';
                    prevPage.classList.add('active');
                    prevPage.style.transform = 'rotateY(-130deg)';
                    
                    setTimeout(() => {
                        prevPage.style.transform = '';
                        
                        setTimeout(() => {
                            currentPage.classList.remove('active');
                            currentPage.style.visibility = 'hidden';
                            currentPageIndex = prevPageIndex;
                            updateIndicators();
                            isAnimating = false;
                        }, 300);
                    }, 50);
                }
            }
            
            function updateIndicators() {
                indicators.forEach((indicator, index) => {
                    if (index === currentPageIndex) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
            }
            
            // Image carousel for venue page
            function setupVenueCarousel() {
                const images = document.querySelectorAll('.venue-carousel img');
                if (images.length <= 1) return;
                
                let currentImageIndex = 0;
                
                // Change image every 3 seconds
                setInterval(() => {
                    images[currentImageIndex].classList.remove('active');
                    currentImageIndex = (currentImageIndex + 1) % images.length;
                    images[currentImageIndex].classList.add('active');
                }, 3000);
            }

            // Initialize carousel when page loads
            setupVenueCarousel();
        });
    </script>
</body>
</html>
