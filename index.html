<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garden Wedding Flipbook</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Great+Vibes&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Cormorant Garamond', serif;
            background: linear-gradient(to bottom, #f8f9f3, #e7eee1);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            color: #354230;
            touch-action: manipulation;
        }
        
        .instruction {
            text-align: center;
            padding: 8px;
            font-size: 14px;
            font-style: italic;
            color: #5c6752;
            background-color: rgba(255, 255, 255, 0.7);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .book-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 2000px;
            position: relative;
            overflow: hidden;
            padding: 40px 10px 60px 10px;
        }
        
        .book {
            width: 100%;
            height: 100%;
            max-width: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        
        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            right: 0;
            background-color: white;
            transform-origin: left center;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
        }
        
        .page.active {
            opacity: 1;
            pointer-events: auto;
            z-index: 10;
        }
        
        .page.flipping {
            transform: rotateY(-130deg);
            z-index: 20;
            box-shadow: -5px 5px 20px rgba(0, 0, 0, 0.2);
        }
        
        .page-content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            overflow: hidden;
            background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,0.8));
        }
        
        .cover .page-content {
            background: linear-gradient(to bottom, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
        }
        
        .page-image {
            width: 85%;
            height: 55%;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s, transform 0.8s;
        }
        
        .page.active .page-image {
            opacity: 1;
            transform: translateY(0);
        }
        
        .page-title {
            font-size: 22px;
            margin-bottom: 15px;
            font-weight: 500;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s 0.2s, transform 0.8s 0.2s;
            font-family: 'Great Vibes', cursive;
            color: #354230;
        }
        
        .page.active .page-title {
            opacity: 1;
            transform: translateY(0);
        }
        
        .page-text {
            font-size: 16px;
            line-height: 1.6;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s 0.4s, transform 0.8s 0.4s;
        }
        
        .page.active .page-text {
            opacity: 1;
            transform: translateY(0);
        }
        
        .cover-image-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .cover-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }
        
        .cover-image.active {
            opacity: 0.3;
        }
        
        .cover-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            text-align: center;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .cover-title {
            font-family: 'Great Vibes', cursive;
            font-size: 42px;
            margin-bottom: 20px;
            color: #354230;
            text-shadow: 0 2px 10px rgba(255,255,255,0.8);
        }
        
        .cover-subtitle {
            font-size: 22px;
            margin-bottom: 15px;
            font-weight: 400;
            color: #5c6752;
        }
        
        .cover-date {
            font-size: 18px;
            margin-top: 10px;
            font-weight: 500;
        }
        
        .page-indicators {
            position: fixed;
            bottom: 15px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 12px;
            z-index: 100;
        }
        
        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(53, 66, 48, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .indicator.active {
            background-color: rgba(53, 66, 48, 0.8);
            transform: scale(1.2);
        }
        
        .floral-decoration {
            position: absolute;
            width: 120px;
            height: 120px;
            opacity: 0.2;
            pointer-events: none;
        }
        
        .decoration-1 {
            top: 10px;
            right: 10px;
            transform: rotate(45deg);
        }
        
        .decoration-2 {
            bottom: 10px;
            left: 10px;
            transform: rotate(-45deg);
        }
        
        @media (max-height: 600px) {
            .page-image {
                height: 45%;
            }
            
            .page-title {
                font-size: 20px;
                margin-bottom: 10px;
            }
            
            .page-text {
                font-size: 14px;
            }
        }
        
        /* Paper fold effect */
        .page::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.03) 0%, rgba(0,0,0,0) 5%, rgba(0,0,0,0) 95%, rgba(0,0,0,0.03) 100%);
            pointer-events: none;
        }
        
        /* Page turning shadow */
        .page.flipping::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0.1), rgba(0,0,0,0));
            z-index: 5;
            transform: rotateY(180deg);
            backface-visibility: hidden;
        }
    </style>
</head>
<body>
    <div class="instruction">swipe left or right to turn pages</div>
    
    <div class="book-container">
        <div class="book">
            <!-- Cover Page -->
            <div class="page cover active" data-index="0">
                <div class="cover-image-container">
                    <img src="/api/placeholder/1200/800" alt="Garden background" class="cover-image active" data-id="1">
                    <img src="/api/placeholder/1200/800" alt="Garden background" class="cover-image" data-id="2">
                    <img src="/api/placeholder/1200/800" alt="Garden background" class="cover-image" data-id="3">
                </div>
                <div class="cover-content">
                    <h1 class="cover-title">Sarah & James</h1>
                    <p class="cover-subtitle">Request the honor of your presence</p>
                    <p class="cover-subtitle">at their wedding celebration</p>
                    <p class="cover-date">May 15, 2025</p>
                </div>
            </div>
            
            <!-- Page 1 -->
            <div class="page" data-index="1">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Couple photo" class="page-image">
                    <h2 class="page-title">Our Story</h2>
                    <p class="page-text">We met on a sunny afternoon in Central Park, both reaching for the same book at an outdoor reading event. Five years later, under the same trees where we first met, James got down on one knee and proposed. Now we're excited to begin our next chapter together, surrounded by our loved ones in a beautiful garden setting.</p>
                </div>
            </div>
            
            <!-- Page 2 -->
            <div class="page" data-index="2">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Venue photo" class="page-image">
                    <h2 class="page-title">Ceremony & Reception</h2>
                    <p class="page-text">The ceremony will begin at 4:00 PM in the Rose Garden at Hillcrest Manor. The reception will follow immediately after in the Grand Pavilion. Please join us for an evening of dinner, dancing, and celebration beneath the stars.</p>
                </div>
            </div>
            
            <!-- Page 3 -->
            <div class="page" data-index="3">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Map photo" class="page-image">
                    <h2 class="page-title">Location</h2>
                    <p class="page-text">Hillcrest Manor<br>123 Garden Avenue<br>Bloomfield, NY 10036<br><br>Complimentary valet parking will be available. A shuttle service will run from the Hampton Inn downtown starting at 3:00 PM.</p>
                </div>
            </div>
            
            <!-- Page 4 -->
            <div class="page" data-index="4">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="Food photo" class="page-image">
                    <h2 class="page-title">Dinner & Dancing</h2>
                    <p class="page-text">We'll be serving a farm-to-table seasonal menu featuring locally sourced ingredients. Please indicate any dietary restrictions when you RSVP. After dinner, join us on the dance floor as we celebrate into the evening with music by The Garden City Band.</p>
                </div>
            </div>
            
            <!-- Page 5 -->
            <div class="page" data-index="5">
                <div class="page-content">
                    <img src="/api/placeholder/800/600" alt="RSVP photo" class="page-image">
                    <h2 class="page-title">RSVP</h2>
                    <p class="page-text">We look forward to celebrating with you! Please respond by April 15, 2025.<br><br>Visit our wedding website at:<br>sarahandjames.com<br><br>Or contact us at:<br>wedding@sarahandjames.com</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="page-indicators">
        <div class="indicator active" data-index="0"></div>
        <div class="indicator" data-index="1"></div>
        <div class="indicator" data-index="2"></div>
        <div class="indicator" data-index="3"></div>
        <div class="indicator" data-index="4"></div>
        <div class="indicator" data-index="5"></div>
    </div>
    
    <div class="floral-decoration decoration-1">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M50,0 C60,20 80,30 100,30 C80,40 60,60 50,100 C40,60 20,40 0,30 C20,30 40,20 50,0" fill="#354230"/>
        </svg>
    </div>
    
    <div class="floral-decoration decoration-2">
        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M50,0 C60,20 80,30 100,30 C80,40 60,60 50,100 C40,60 20,40 0,30 C20,30 40,20 50,0" fill="#354230"/>
        </svg>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pages = document.querySelectorAll('.page');
            const indicators = document.querySelectorAll('.indicator');
            const coverImages = document.querySelectorAll('.cover-image');
            let currentPageIndex = 0;
            let touchStartX = 0;
            let touchEndX = 0;
            let isAnimating = false;
            
            // Initialize
            updateIndicators();
            
            // Event listeners
            document.addEventListener('touchstart', handleTouchStart, false);
            document.addEventListener('touchmove', handleTouchMove, false);
            document.addEventListener('touchend', handleTouchEnd, false);
            
            // For desktop testing
            document.addEventListener('mousedown', handleMouseDown, false);
            document.addEventListener('mousemove', handleMouseMove, false);
            document.addEventListener('mouseup', handleMouseUp, false);
            
            // Indicators click event
            indicators.forEach(indicator => {
                indicator.addEventListener('click', () => {
                    if (isAnimating) return;
                    
                    const targetIndex = parseInt(indicator.getAttribute('data-index'));
                    if (targetIndex === currentPageIndex) return;
                    
                    if (targetIndex > currentPageIndex) {
                        // Going forward
                        for (let i = currentPageIndex; i < targetIndex; i++) {
                            setTimeout(() => {
                                turnPage(true);
                            }, (i - currentPageIndex) * 600);
                        }
                    } else {
                        // Going backward
                        for (let i = currentPageIndex; i > targetIndex; i--) {
                            setTimeout(() => {
                                turnPage(false);
                            }, (currentPageIndex - i) * 600);
                        }
                    }
                });
            });
            
            // Change cover images
            let activeCoverImageIndex = 0;
            
            function rotateCoverImages() {
                if (currentPageIndex === 0) {
                    const nextImageIndex = (activeCoverImageIndex + 1) % coverImages.length;
                    
                    coverImages[activeCoverImageIndex].classList.remove('active');
                    coverImages[nextImageIndex].classList.add('active');
                    
                    activeCoverImageIndex = nextImageIndex;
                }
                
                setTimeout(rotateCoverImages, 5000);
            }
            
            rotateCoverImages();
            
            // Touch event handlers
            function handleTouchStart(e) {
                touchStartX = e.touches[0].clientX;
            }
            
            function handleTouchMove(e) {
                touchEndX = e.touches[0].clientX;
            }
            
            function handleTouchEnd() {
                handleSwipe();
            }
            
            // Mouse event handlers (for desktop testing)
            let isMouseDown = false;
            
            function handleMouseDown(e) {
                isMouseDown = true;
                touchStartX = e.clientX;
            }
            
            function handleMouseMove(e) {
                if (isMouseDown) {
                    touchEndX = e.clientX;
                }
            }
            
            function handleMouseUp() {
                if (isMouseDown) {
                    handleSwipe();
                    isMouseDown = false;
                }
            }
            
            function handleSwipe() {
                if (isAnimating) return;
                
                const swipeThreshold = 50;
                const swipeDistance = touchEndX - touchStartX;
                
                if (swipeDistance < -swipeThreshold) {
                    // Swipe left - go to next page
                    if (currentPageIndex < pages.length - 1) {
                        turnPage(true);
                    }
                } else if (swipeDistance > swipeThreshold) {
                    // Swipe right - go to previous page
                    if (currentPageIndex > 0) {
                        turnPage(false);
                    }
                }
            }
            
            function turnPage(forward) {
                if (isAnimating) return;
                isAnimating = true;
                
                const currentPage = pages[currentPageIndex];
                
                if (forward) {
                    // Going to next page
                    const nextPageIndex = currentPageIndex + 1;
                    if (nextPageIndex >= pages.length) {
                        isAnimating = false;
                        return;
                    }
                    
                    const nextPage = pages[nextPageIndex];
                    
                    currentPage.classList.add('flipping');
                    
                    setTimeout(() => {
                        currentPage.classList.remove('active');
                        nextPage.classList.add('active');
                        
                        setTimeout(() => {
                            currentPage.classList.remove('flipping');
                            currentPageIndex = nextPageIndex;
                            updateIndicators();
                            isAnimating = false;
                        }, 300);
                    }, 500);
                } else {
                    // Going to previous page
                    const prevPageIndex = currentPageIndex - 1;
                    if (prevPageIndex < 0) {
                        isAnimating = false;
                        return;
                    }
                    
                    const prevPage = pages[prevPageIndex];
                    
                    prevPage.classList.add('active');
                    prevPage.style.transform = 'rotateY(-130deg)';
                    
                    setTimeout(() => {
                        prevPage.style.transform = 'rotateY(0)';
                        
                        setTimeout(() => {
                            currentPage.classList.remove('active');
                            currentPageIndex = prevPageIndex;
                            updateIndicators();
                            isAnimating = false;
                        }, 300);
                    }, 50);
                }
            }
            
            function updateIndicators() {
                indicators.forEach((indicator, index) => {
                    if (index === currentPageIndex) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
            }
        });
    </script>
</body>
</html>
